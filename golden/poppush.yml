in_source: |-
  org 0
  int: word: int_handler
  org 2
  A: word: 10
  B: word: 20
  C: word: 30
  in: word: 2046
  out: word: 2047

  int_handler: push
      load (in)
      store (out)
      pop
      iret

  start: ei
      load A
      push
      load B
      push
      load C
      store (out)
      pop
      store (out)
      pop
      store (out)
      di
      hlt
in_stdin: |-
  [(15, 'a'), (40, 'b'), (68, 'c')]
out_code:
- 12
- 775
- 0
- 778
- 788
- 798
- 1134
- 1135
- 49152
- 655877
- 918022
- 40960
- 45056
- 69632
- 655362
- 49152
- 655363
- 49152
- 655364
- 918022
- 40960
- 918022
- 40960
- 918022
- 65536
- 4096
out_stdout:
out_log: |
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: ei   | AC 0       | IP: 13   | AR: 12   | PS: 10010 | DR: 0       | SP : 2045 | mem[AR] 0       | mem[SP] : 0   | CR: ei           | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: load | AC 10      | IP: 14   | AR: 2    | PS: 10000 | DR: 10      | SP : 2045 | mem[AR] 10      | mem[SP] : 0   | CR: load 2       | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: push | AC 10      | IP: 15   | AR: 2045 | PS: 10000 | DR: 10      | SP : 2044 | mem[AR] 10      | mem[SP] : 0   | CR: push         | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: load | AC 20      | IP: 16   | AR: 3    | PS: 10000 | DR: 20      | SP : 2044 | mem[AR] 20      | mem[SP] : 0   | CR: load 3       | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: push | AC 20      | IP: 17   | AR: 2044 | PS: 10000 | DR: 20      | SP : 2043 | mem[AR] 20      | mem[SP] : 0   | CR: push         | 
  INFO    machine:input_instruction INPUT a
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: load | AC 30      | IP: 18   | AR: 4    | PS: 11000 | DR: 30      | SP : 2043 | mem[AR] 30      | mem[SP] : 0   | CR: load 4       | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: push | AC 30      | IP: 8    | AR: 2041 | PS: 10000 | DR: 30      | SP : 2040 | mem[AR] 30      | mem[SP] : 0   | CR: push         | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: load | AC 97      | IP: 9    | AR: 2046 | PS: 10000 | DR: 97      | SP : 2040 | mem[AR] 97      | mem[SP] : 0   | CR: load 5       | 
  INFO    machine:sig_write     OUTPUT a
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: store | AC 97      | IP: 10   | AR: 2047 | PS: 10000 | DR: 97      | SP : 2040 | mem[AR] 97      | mem[SP] : 0   | CR: store 6      | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: pop  | AC 30      | IP: 11   | AR: 2041 | PS: 10000 | DR: 30      | SP : 2041 | mem[AR] 30      | mem[SP] : 30  | CR: pop          | 
  INFO    machine:input_instruction INPUT b
  INFO    machine:sig_write     OUTPUT 30
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: store | AC 30      | IP: 19   | AR: 2047 | PS: 11000 | DR: 30      | SP : 2043 | mem[AR] 30      | mem[SP] : 16  | CR: store 6      | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: push | AC 30      | IP: 8    | AR: 2041 | PS: 10000 | DR: 30      | SP : 2040 | mem[AR] 30      | mem[SP] : 0   | CR: push         | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: load | AC 98      | IP: 9    | AR: 2046 | PS: 10000 | DR: 98      | SP : 2040 | mem[AR] 98      | mem[SP] : 0   | CR: load 5       | 
  INFO    machine:sig_write     OUTPUT b
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: store | AC 98      | IP: 10   | AR: 2047 | PS: 10000 | DR: 98      | SP : 2040 | mem[AR] 98      | mem[SP] : 0   | CR: store 6      | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: pop  | AC 30      | IP: 11   | AR: 2041 | PS: 10000 | DR: 30      | SP : 2041 | mem[AR] 30      | mem[SP] : 30  | CR: pop          | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: pop  | AC 20      | IP: 20   | AR: 2044 | PS: 10000 | DR: 20      | SP : 2044 | mem[AR] 20      | mem[SP] : 20  | CR: pop          | 
  INFO    machine:input_instruction INPUT c
  INFO    machine:sig_write     OUTPUT 20
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: store | AC 20      | IP: 21   | AR: 2047 | PS: 11000 | DR: 20      | SP : 2044 | mem[AR] 20      | mem[SP] : 20  | CR: store 6      | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: push | AC 20      | IP: 8    | AR: 2042 | PS: 10000 | DR: 20      | SP : 2041 | mem[AR] 20      | mem[SP] : 30  | CR: push         | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: load | AC 99      | IP: 9    | AR: 2046 | PS: 10000 | DR: 99      | SP : 2041 | mem[AR] 99      | mem[SP] : 30  | CR: load 5       | 
  INFO    machine:sig_write     OUTPUT c
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: store | AC 99      | IP: 10   | AR: 2047 | PS: 10000 | DR: 99      | SP : 2041 | mem[AR] 99      | mem[SP] : 30  | CR: store 6      | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: pop  | AC 20      | IP: 11   | AR: 2042 | PS: 10000 | DR: 20      | SP : 2042 | mem[AR] 20      | mem[SP] : 20  | CR: pop          | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: pop  | AC 10      | IP: 22   | AR: 2045 | PS: 10000 | DR: 10      | SP : 2045 | mem[AR] 10      | mem[SP] : 10  | CR: pop          | 
  INFO    machine:sig_write     OUTPUT 10
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: store | AC 10      | IP: 23   | AR: 2047 | PS: 10000 | DR: 10      | SP : 2045 | mem[AR] 10      | mem[SP] : 10  | CR: store 6      | 
  INFO    machine:decode_and_execute_instruction 

  INFO    machine:__print__     Command: di   | AC 10      | IP: 24   | AR: 23   | PS: 00000 | DR: 10      | SP : 2045 | mem[AR] 0       | mem[SP] : 10  | CR: di           | 

